(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{51:function(t,e,a){"use strict";a.r(e);var r=a(0),s=a.n(r),i=a(4),n=a(2),d=a.n(n),o=a(3),l=a.n(o);function c(t,e,a,r,s,i,n){try{var d=t[i](n),o=d.value}catch(t){return void a(t)}d.done?e(o):Promise.resolve(o).then(r,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var i=t.apply(e,a);function n(t){c(i,r,s,n,d,"next",t)}function d(t){c(i,r,s,n,d,"throw",t)}n(void 0)}))}}function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={name:"Industries",middleware:["auth","permission:access-industry"],data:function(){return{industriesTableFields:[{key:"name",label:"Name",sortable:!0},"actions"],form:new l.a({name:""}),filter:"",pageOptions:[5,10,15],editItem:new l.a({id:0,name:""}),delete_id:0,timeout:0}},created:function(){this.fetchData()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(i.c)({industries:function(t){return t.candidates.industries}})),methods:{remove:function(){var t=this;return u(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/api/industries/"+t.delete_id);case 3:a=e.sent,r=a.data,t.fetchData(),t.$alert(r.message,r.status),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t.$error("some error occurred");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},edit:function(t){this.editItem.id=t.id,this.editItem.name=t.name},add:function(t){var e=this;return u(s.a.mark((function a(){var r,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,e.form.post("/api/industries");case 4:r=a.sent,i=r.data,e.$alert(i.message,i.status),e.fetchData(),e.$bvModal.hide("modal-add-industry"),e.form.reset(),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0),e.$error("Some error occured");case 16:case"end":return a.stop()}}),a,null,[[1,12]])})))()},update:function(t){var e=this;return u(s.a.mark((function a(){var r,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,e.editItem.put("/api/industries/"+e.editItem.id);case 4:r=a.sent,i=r.data,e.$alert(i.message,i.status),e.fetchData(),e.$bvModal.hide("modal-edit-industry"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),console.log(a.t0),e.$error("Some error occured");case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()},filterData:function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.fetchData()}),100)},fetchData:function(){this.$store.dispatch("candidates/fetchIndustries",{search:this.filter})}},watch:{filter:{handler:function(){this.filterData()}},"industries.page":{handler:function(){this.filterData()}},"industries.perPage":{handler:function(){this.filterData()}}}},v=a(1),b=Object(v.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Breadcrumbs",{attrs:{title:"Industries"}}),t._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between"},[t._m(0),t._v(" "),a("div",{staticClass:"card-buttons"},[t.$can("add-industry")?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-industry",modifiers:{"modal-add-industry":!0}}],staticClass:"btn btn-primary",attrs:{href:"#"}},[t._v("\n                Add Industry\n              ")]):t._e()])]),t._v(" "),a("div",{staticClass:"card-body"},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-input-group",{staticClass:"datatable-btn"},[a("b-form-input",{attrs:{placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1),t._v(" "),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0 datatable-select",attrs:{"label-cols":"2",label:"Per page"}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.industries.perPage,callback:function(e){t.$set(t.industries,"perPage",e)},expression:"industries.perPage"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"table-responsive datatable-vue"},[a("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.industries.data,fields:t.industriesTableFields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[t.$can("update-industry")?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-edit-industry",modifiers:{"modal-edit-industry":!0}}],staticClass:"text-muted",attrs:{href:"#",title:"Edit"},on:{click:function(a){return a.preventDefault(),t.edit(e.item)}}},[a("i",{staticClass:"fa fa-edit"})]):t._e(),t._v(" "),t.$can("delete-industry")?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-delete-industry",modifiers:{"modal-delete-industry":!0}}],staticClass:"text-muted",attrs:{href:"#",title:"Delete"},on:{click:function(a){a.preventDefault(),t.delete_id=e.item.id}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()]}}])})],1),t._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.industries.count,"per-page":t.industries.perPage},model:{value:t.industries.page,callback:function(e){t.$set(t.industries,"page",e)},expression:"industries.page"}})],1)],1)])])])]),t._v(" "),a("b-modal",{staticClass:"theme-modal",attrs:{id:"modal-delete-industry",size:"sm",centered:"",title:"Delete Industry","ok-title":"Delete","ok-variant":"danger"},on:{ok:t.remove}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("p",[t._v("Are you sure you want to delete this industry?")])])])]),t._v(" "),a("b-modal",{staticClass:"theme-modal",attrs:{id:"modal-add-industry",size:"sm",centered:"",title:"Add Industry","ok-title":"Add","ok-variant":"primary"},on:{ok:t.add}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"add-industry-name"}},[t._v("Industry Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{id:"add-industry-name",type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"name"}})],1)])])]),t._v(" "),a("b-modal",{staticClass:"theme-modal",attrs:{id:"modal-edit-industry",size:"sm",centered:"",title:"Edit Industry","ok-title":"Update","ok-variant":"primary"},on:{ok:t.update}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-industry-name"}},[t._v("Industry Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editItem.name,expression:"editItem.name"}],staticClass:"form-control",class:{"is-invalid":t.editItem.errors.has("name")},attrs:{id:"edit-industry-name",type:"text"},domProps:{value:t.editItem.name},on:{input:function(e){e.target.composing||t.$set(t.editItem,"name",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.editItem,field:"name"}})],1)])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-title"},[e("h5",[this._v("Industries")]),e("span",[this._v("List of all industries")])])}],!1,null,null,null);e.default=b.exports}}]);