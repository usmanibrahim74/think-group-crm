(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{133:function(o,s){o.exports="/images/Pattern.bdabd0.png"},134:function(o,s){o.exports="/images/close-icon.50104a.png"},135:function(o,s){o.exports="/images/codecanyon.e952c9.png"},136:function(o,s){o.exports="/images/favicon.618b98.png"},137:function(o,s){o.exports="/images/js-grid.2aded5.png"},138:function(o,s){o.exports="/images/location.31be14.png"},139:function(o,s){o.exports="/images/logo-light.8400f1.png"},140:function(o,s){o.exports="/images/no-image.d07666.png"},141:function(o,s){o.exports="/images/search-not-found.5f1e7d.png"},142:function(o,s){o.exports="/images/secondhandm.a16687.png"},143:function(o,s){o.exports="/images/smiley.cea767.png"},144:function(o,s){o.exports="/images/sort_asc.4a3a75.png"},145:function(o,s){o.exports="/images/sort_asc_disabled.4a3a75.png"},146:function(o,s){o.exports="/images/sort_both.4a3a75.png"},147:function(o,s){o.exports="/images/sort_desc.4a3a75.png"},148:function(o,s){o.exports="/images/sort_desc_disabled.4a3a75.png"},149:function(o,s){o.exports="/images/vuelogo.82b9c7.png"},58:function(o,s,t){"use strict";t.r(s);var e=t(0),a=t.n(e),r=t(3),i=t.n(r),n=(t(2),t(30)),l=t.n(n);t(88);function c(o,s,t,e,a,r,i){try{var n=o[r](i),l=n.value}catch(o){return void t(o)}n.done?s(l):Promise.resolve(l).then(e,a)}var m={name:"CreateEmployerProfile",middleware:["auth","permission:add-employer-profile"],data:function(){return{form:new i.a({name:"",display_name:"",email:"",phone:"",address_1:"",address_2:"",city:"",postcode:"",notes:"",logo:null}),logo:null,imageSrc:"",cropImg:null}},components:{VueCropper:l.a},created:function(){this.$store.dispatch("candidates/fetchAllIndustries")},computed:{},methods:{zoominImage:function(){console.log(this.$refs),this.$refs.cropper.relativeZoom(.1)},zoomoutImage:function(){this.$refs.cropper.relativeZoom(-.1)},getNoImgUrl:function(){return t(85)("./no-image.png")},generateImage:function(){this.imageData=this.$refs.cropper.getData(),this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL()},recropImage:function(){this.cropImg=null},cropImage:function(){},updateImage:function(){var o=this;if(this.cropImg=null,this.logo){this.imageSrc=null;var s=new FileReader;s.onload=function(s){o.imageSrc=s.target.result},s.onerror=function(o){alert(o)},s.readAsDataURL(this.logo)}else this.imageSrc=null},add:function(){var o,s=this;return(o=a.a.mark((function o(){var t,e;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s.form.logo=s.cropImg,o.prev=1,o.next=4,s.form.post("/api/employers/profiles/");case 4:t=o.sent,e=t.data,s.$alert(e.message,e.status),s.$router.push("/employers/profiles"),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(1),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[1,10]])})),function(){var s=this,t=arguments;return new Promise((function(e,a){var r=o.apply(s,t);function i(o){c(r,e,a,i,n,"next",o)}function n(o){c(r,e,a,i,n,"throw",o)}i(void 0)}))})()}}},d=(t(15),t(1)),p=Object(d.a)(m,(function(){var o=this,s=o.$createElement,t=o._self._c||s;return t("div",[t("Breadcrumbs",{attrs:{title:"Add Employer Profile",main:"Employers"}}),o._v(" "),t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card"},[o._m(0),o._v(" "),t("div",{staticClass:"card-body"},[t("b-form",{staticClass:"needs-validation",on:{submit:function(s){return s.preventDefault(),o.add(s)}}},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Name:")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("name")},attrs:{type:"text"},domProps:{value:o.form.name},on:{input:function(s){s.target.composing||o.$set(o.form,"name",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"name"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Display Name:")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.display_name,expression:"form.display_name"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("display_name")},attrs:{type:"text"},domProps:{value:o.form.display_name},on:{input:function(s){s.target.composing||o.$set(o.form,"display_name",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"display_name"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Email")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("email")},attrs:{type:"email"},domProps:{value:o.form.email},on:{input:function(s){s.target.composing||o.$set(o.form,"email",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"email"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Phone")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:o.form.phone,expression:"form.phone",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("phone")},attrs:{type:"number"},domProps:{value:o.form.phone},on:{input:function(s){s.target.composing||o.$set(o.form,"phone",o._n(s.target.value))},blur:function(s){return o.$forceUpdate()}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"phone"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("City")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.city,expression:"form.city"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("city")},attrs:{type:"text"},domProps:{value:o.form.city},on:{input:function(s){s.target.composing||o.$set(o.form,"city",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"city"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Postcode")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.postcode,expression:"form.postcode"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("postcode")},attrs:{type:"text"},domProps:{value:o.form.postcode},on:{input:function(s){s.target.composing||o.$set(o.form,"postcode",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"postcode"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Address Line 1")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.address_1,expression:"form.address_1"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("address_1")},attrs:{type:"text"},domProps:{value:o.form.address_1},on:{input:function(s){s.target.composing||o.$set(o.form,"address_1",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"address_1"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Address Line 2")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.form.address_2,expression:"form.address_2"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("address_2")},attrs:{type:"text"},domProps:{value:o.form.address_2},on:{input:function(s){s.target.composing||o.$set(o.form,"address_2",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"address_2"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Notes")]),o._v(" "),t("div",{staticClass:"col-sm-9"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:o.form.notes,expression:"form.notes"}],staticClass:"form-control",class:{"is-invalid":o.form.errors.has("notes")},domProps:{value:o.form.notes},on:{input:function(s){s.target.composing||o.$set(o.form,"notes",s.target.value)}}}),o._v(" "),t("has-error",{attrs:{form:o.form,field:"notes"}})],1)]),o._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[o._v("Logo")]),o._v(" "),t("div",{staticClass:"col-sm-4"},[t("b-form-file",{staticClass:"d-none",class:{"is-invalid":o.form.errors.has("logo")},attrs:{accept:"image/jpeg, image/png",id:"logo",state:Boolean(o.form.logo),placeholder:"Choose files","drop-placeholder":"Drop files here..."},on:{input:o.updateImage},model:{value:o.logo,callback:function(s){o.logo=s},expression:"logo"}}),o._v(" "),o.logo?o._e():t("div",[t("img",{staticClass:"w-100",attrs:{src:o.getNoImgUrl(),alt:""}}),o._v(" "),t("b-button-group",{staticClass:"mt-2"},[t("label",{staticClass:"btn btn-primary m-0",attrs:{for:"logo"}},[t("i",{staticClass:"fa fa-camera"})])])],1),o._v(" "),o.imageSrc&&!o.cropImg?t("div",[t("vue-cropper",{ref:"cropper",attrs:{guides:!0,"view-mode":0,"drag-mode":"crop",aspectRatio:1.777,"auto-crop-area":.7,"min-container-width":250,"min-container-height":100,background:!0,rotatable:!0,movable:!0,src:o.imageSrc,alt:"Source Image",crop:o.cropImage,"img-style":{width:"200px",height:"150px"}}}),o._v(" "),t("div",{staticClass:"mt-2 text-center"},[t("b-button-group",[t("b-button",{attrs:{variant:"outline-primary"},on:{click:o.zoominImage}},[t("i",{staticClass:"fa fa-search-plus"})]),o._v(" "),t("b-button",{attrs:{variant:"outline-primary"},on:{click:o.zoomoutImage}},[t("i",{staticClass:"fa fa-search-minus"})]),o._v(" "),t("b-button",{attrs:{variant:"outline-primary"},on:{click:o.generateImage}},[t("i",{staticClass:"fa fa-check"})])],1)],1)],1):o._e(),o._v(" "),o.cropImg?t("div",[t("img",{staticClass:"w-100",attrs:{src:o.cropImg,alt:""}}),o._v(" "),t("b-button-group",{staticClass:"mt-2"},[t("label",{staticClass:"btn btn-primary m-0",attrs:{for:"logo"}},[t("i",{staticClass:"fa fa-camera"})]),o._v(" "),t("button",{staticClass:"btn btn-primary",on:{click:o.recropImage}},[t("i",{staticClass:"fa fa-crop"})])])],1):o._e(),o._v(" "),t("has-error",{attrs:{form:o.form,field:"logo"}})],1)])]),o._v(" "),t("div",{staticClass:"col-12 text-right"},[t("v-button",{attrs:{loading:o.form.busy}},[o._v("Add Employer")])],1)])])],1)])])])])],1)}),[function(){var o=this.$createElement,s=this._self._c||o;return s("div",{staticClass:"card-header"},[s("h5",[this._v("Add Employer Profile")]),s("span",[this._v("Add a new employer profile")])])}],!1,null,null,null);s.default=p.exports},85:function(o,s,t){var e={"./Pattern.png":133,"./close-icon.png":134,"./codecanyon.png":135,"./details_close.png":254,"./details_open.png":253,"./endless-logo.png":37,"./favicon.png":136,"./js-grid.png":137,"./location.png":138,"./logo-light.png":139,"./logo.png":92,"./no-image.png":140,"./search-not-found.png":141,"./secondhandm.png":142,"./smiley.png":143,"./sort_asc.png":144,"./sort_asc_disabled.png":145,"./sort_both.png":146,"./sort_desc.png":147,"./sort_desc_disabled.png":148,"./vuelogo.png":149};function a(o){var s=r(o);return t(s)}function r(o){if(!t.o(e,o)){var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}return e[o]}a.keys=function(){return Object.keys(e)},a.resolve=r,o.exports=a,a.id=85}}]);