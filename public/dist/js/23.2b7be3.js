(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{54:function(r,e,t){"use strict";t.r(e);var o=t(0),s=t.n(o),a=t(3),i=t.n(a),n=(t(2),t(4)),l=t(13);function c(r,e,t,o,s,a,i){try{var n=r[a](i),l=n.value}catch(r){return void t(r)}n.done?e(l):Promise.resolve(l).then(o,s)}function m(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,o)}return t}function f(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var d={name:"CreateEmployerAccount",middleware:["auth","permission:add-employer-account"],data:function(){return{form:new i.a({profile:null,name:"",email:"",password:"",password_confirmation:""})}},components:{Multiselect:t.n(l).a},created:function(){this.$store.dispatch("employers/fetchAllProfiles")},computed:function(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){f(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}({},Object(n.c)({profiles:function(r){return r.employers.all_profiles}})),methods:{add:function(){var r,e=this;return(r=s.a.mark((function r(){var t,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e.form),r.next=4,e.form.post("/api/employers/accounts");case 4:t=r.sent,o=t.data,e.$alert(o.message,o.status),e.$router.push("/employers/accounts"),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(r.t0),e.$error("some error occurred");case 14:case"end":return r.stop()}}),r,null,[[0,10]])})),function(){var e=this,t=arguments;return new Promise((function(o,s){var a=r.apply(e,t);function i(r){c(a,o,s,i,n,"next",r)}function n(r){c(a,o,s,i,n,"throw",r)}i(void 0)}))})()}}},p=(t(17),t(1)),u=Object(p.a)(d,(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",[t("Breadcrumbs",{attrs:{title:"Add Employer Account",main:"Employers"}}),r._v(" "),t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card"},[r._m(0),r._v(" "),t("div",{staticClass:"card-body"},[t("b-form",{staticClass:"needs-validation",on:{submit:function(e){return e.preventDefault(),r.add(e)}}},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-group"},[t("label",[r._v("Select Employer")]),r._v(" "),t("multiselect",{class:{"is-invalid":r.form.errors.has("profile")},attrs:{placeholder:"Select Employer",label:"name","track-by":"id",options:r.profiles},model:{value:r.form.profile,callback:function(e){r.$set(r.form,"profile",e)},expression:"form.profile"}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"profile"}})],1)]),r._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-form-label"},[r._v("Name")]),r._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("name")},attrs:{type:"text"},domProps:{value:r.form.name},on:{input:function(e){e.target.composing||r.$set(r.form,"name",e.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"name"}})],1)]),r._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-form-label"},[r._v("Email")]),r._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("email")},attrs:{type:"email"},domProps:{value:r.form.email},on:{input:function(e){e.target.composing||r.$set(r.form,"email",e.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"email"}})],1)]),r._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-form-label"},[r._v("Password")]),r._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("password")},attrs:{type:"password"},domProps:{value:r.form.password},on:{input:function(e){e.target.composing||r.$set(r.form,"password",e.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"password"}})],1)]),r._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-form-label"},[r._v("Confirm Password")]),r._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":r.form.errors.has("password_confirmation")},attrs:{type:"password"},domProps:{value:r.form.password_confirmation},on:{input:function(e){e.target.composing||r.$set(r.form,"password_confirmation",e.target.value)}}}),r._v(" "),t("has-error",{attrs:{form:r.form,field:"password_confirmation"}})],1)]),r._v(" "),t("div",{staticClass:"col-12 text-right"},[t("v-button",{attrs:{loading:r.form.busy}},[r._v("Add Account")])],1)])])],1)])])])])],1)}),[function(){var r=this.$createElement,e=this._self._c||r;return e("div",{staticClass:"card-header"},[e("h5",[this._v("Add Employer Account")]),e("span",[this._v("Add a new employer account")])])}],!1,null,null,null);e.default=u.exports}}]);