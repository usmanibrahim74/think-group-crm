(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{64:function(e,t,s){"use strict";s.r(t);var r=s(0),i=s.n(r),a=s(3),n=s.n(a),o=s(4);s(2);function m(e,t,s,r,i,a,n){try{var o=e[a](n),m=o.value}catch(e){return void s(e)}o.done?t(m):Promise.resolve(m).then(r,i)}function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var p={name:"EditPermission",middleware:["auth","permission:update-permission"],data:function(){return{form:new n.a({name:"",display_name:"",description:"",permissions:[]})}},created:function(){var e=this.$route.params.id;this.$store.dispatch("management/fetchPermission",{permission_id:e})},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(o.c)({permission:function(e){return e.management.permission}})),methods:{generateSlug:function(){this.form.name=this.form.display_name.toLowerCase().split(" ").join("-")},updatePermission:function(){var e,t=this;return(e=i.a.mark((function e(){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.form.put("/api/permissions/"+t.permission.id);case 3:s=e.sent,r=s.data,t.$alert(r.message,r.status),t.$router.push("/permissions"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,s=arguments;return new Promise((function(r,i){var a=e.apply(t,s);function n(e){m(a,r,i,n,o,"next",e)}function o(e){m(a,r,i,n,o,"throw",e)}n(void 0)}))})()}},watch:{permission:{deep:!0,handler:function(){this.form.name=this.permission.name,this.form.display_name=this.permission.display_name,this.form.description=this.permission.description,this.form.permissions=this.permission.permissions}}}},d=s(1),u=Object(d.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Breadcrumbs",{attrs:{title:"Edit Permission",main:"Permissions"}}),e._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-body"},[s("b-form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),e.updatePermission(t)}}},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[e._v("Display Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.display_name,expression:"form.display_name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("display_name")},attrs:{type:"text"},domProps:{value:e.form.display_name},on:{keyup:e.generateSlug,input:function(t){t.target.composing||e.$set(e.form,"display_name",t.target.value)}}}),e._v(" "),s("has-error",{attrs:{form:e.form,field:"display_name"}})],1)]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("name")},attrs:{placeholder:"must be unique, lowercase and no spaced",type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),s("has-error",{attrs:{form:e.form,field:"name"}})],1)]),e._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-form-label"},[e._v("Description")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("description")},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),e._v(" "),s("has-error",{attrs:{form:e.form,field:"description"}})],1)]),e._v(" "),s("div",{staticClass:"col-12 text-right"},[s("v-button",{attrs:{loading:e.form.busy}},[e._v("Update Permission")])],1)])])],1)])])])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",[this._v("Edit Permission")]),t("span",[this._v("Update this Permission")])])}],!1,null,null,null);t.default=u.exports}}]);