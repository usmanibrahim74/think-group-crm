(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{124:function(t,o){t.exports="/images/Pattern.bdabd0.png"},125:function(t,o){t.exports="/images/close-icon.50104a.png"},126:function(t,o){t.exports="/images/codecanyon.e952c9.png"},127:function(t,o){t.exports="/images/favicon.618b98.png"},128:function(t,o){t.exports="/images/js-grid.2aded5.png"},129:function(t,o){t.exports="/images/location.31be14.png"},130:function(t,o){t.exports="/images/logo-light.8400f1.png"},131:function(t,o){t.exports="/images/no-image.d07666.png"},132:function(t,o){t.exports="/images/search-not-found.5f1e7d.png"},133:function(t,o){t.exports="/images/secondhandm.a16687.png"},134:function(t,o){t.exports="/images/smiley.cea767.png"},135:function(t,o){t.exports="/images/sort_asc.4a3a75.png"},136:function(t,o){t.exports="/images/sort_asc_disabled.4a3a75.png"},137:function(t,o){t.exports="/images/sort_both.4a3a75.png"},138:function(t,o){t.exports="/images/sort_desc.4a3a75.png"},139:function(t,o){t.exports="/images/sort_desc_disabled.4a3a75.png"},140:function(t,o){t.exports="/images/vuelogo.82b9c7.png"},57:function(t,o,e){"use strict";e.r(o);var s=e(0),a=e.n(s),r=e(3),i=e.n(r),n=(e(2),e(30)),l=e.n(n);e(81);function c(t,o,e,s,a,r,i){try{var n=t[r](i),l=n.value}catch(t){return void e(t)}n.done?o(l):Promise.resolve(l).then(s,a)}var m={name:"CreateEmployerProfile",middleware:["auth","permission:add-employer-profile"],data:function(){return{form:new i.a({name:"",display_name:"",email:"",phone:"",address_1:"",address_2:"",city:"",postcode:"",notes:"",logo:null}),logo:null,imageSrc:"",cropImg:null}},components:{VueCropper:l.a},created:function(){this.$store.dispatch("candidates/fetchAllIndustries")},computed:{},methods:{zoominImage:function(){console.log(this.$refs),this.$refs.cropper.relativeZoom(.1)},zoomoutImage:function(){this.$refs.cropper.relativeZoom(-.1)},getNoImgUrl:function(){return e(80)("./no-image.png")},generateImage:function(){this.imageData=this.$refs.cropper.getData(),this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL()},recropImage:function(){this.cropImg=null},cropImage:function(){},updateImage:function(){var t=this;if(this.cropImg=null,this.logo){this.imageSrc=null;var o=new FileReader;o.onload=function(o){t.imageSrc=o.target.result},o.onerror=function(t){alert(t)},o.readAsDataURL(this.logo)}else this.imageSrc=null},add:function(){var t,o=this;return(t=a.a.mark((function t(){var e,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.form.logo=o.cropImg,t.prev=1,t.next=4,o.form.post("/api/employers/profiles/");case 4:e=t.sent,s=e.data,o.$alert(s.message,s.status),o.$router.push("/employers/profiles"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})),function(){var o=this,e=arguments;return new Promise((function(s,a){var r=t.apply(o,e);function i(t){c(r,s,a,i,n,"next",t)}function n(t){c(r,s,a,i,n,"throw",t)}i(void 0)}))})()}}},d=(e(17),e(1)),p=Object(d.a)(m,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("Breadcrumbs",{attrs:{title:"Add Employer Profile",main:"Employers"}}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("b-form",{staticClass:"needs-validation",on:{submit:function(o){return o.preventDefault(),t.add(o)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(o){o.target.composing||t.$set(t.form,"name",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"name"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Display Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.display_name,expression:"form.display_name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("display_name")},attrs:{type:"text"},domProps:{value:t.form.display_name},on:{input:function(o){o.target.composing||t.$set(t.form,"display_name",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"display_name"}})],1),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email"},domProps:{value:t.form.email},on:{input:function(o){o.target.composing||t.$set(t.form,"email",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"email"}})],1)]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.phone,expression:"form.phone",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("phone")},attrs:{type:"number"},domProps:{value:t.form.phone},on:{input:function(o){o.target.composing||t.$set(t.form,"phone",t._n(o.target.value))},blur:function(o){return t.$forceUpdate()}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"phone"}})],1)])])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group mb-0",class:{"is-invalid":t.form.errors.has("logo")}},[e("label",{staticClass:"col-form-label"},[t._v("Logo")]),t._v(" "),e("b-form-file",{staticClass:"d-none",class:{"is-invalid":t.form.errors.has("logo")},attrs:{accept:"image/jpeg, image/png",id:"logo",state:Boolean(t.form.logo),placeholder:"Choose files","drop-placeholder":"Drop files here..."},on:{input:t.updateImage},model:{value:t.logo,callback:function(o){t.logo=o},expression:"logo"}})],1),t._v(" "),t.logo?t._e():e("div",{staticClass:"text-center"},[e("img",{staticClass:"w-100",attrs:{src:t.getNoImgUrl(),alt:""}}),t._v(" "),e("b-button-group",{staticClass:"mt-2"},[e("label",{staticClass:"btn btn-primary m-0",attrs:{for:"logo"}},[e("i",{staticClass:"fa fa-camera"})])])],1),t._v(" "),t.imageSrc&&!t.cropImg?e("div",[e("vue-cropper",{ref:"cropper",attrs:{guides:!0,"view-mode":0,"drag-mode":"crop",aspectRatio:1.777,"auto-crop-area":.7,"min-container-width":250,"min-container-height":100,background:!0,rotatable:!0,movable:!0,src:t.imageSrc,alt:"Source Image",crop:t.cropImage,"img-style":{width:"200px",height:"150px"}}}),t._v(" "),e("div",{staticClass:"mt-2 text-center"},[e("b-button-group",[e("b-button",{attrs:{variant:"outline-primary"},on:{click:t.zoominImage}},[e("i",{staticClass:"fa fa-search-plus"})]),t._v(" "),e("b-button",{attrs:{variant:"outline-primary"},on:{click:t.zoomoutImage}},[e("i",{staticClass:"fa fa-search-minus"})]),t._v(" "),e("b-button",{attrs:{variant:"outline-primary"},on:{click:t.generateImage}},[e("i",{staticClass:"fa fa-check"})])],1)],1)],1):t._e(),t._v(" "),t.cropImg?e("div",{staticClass:"text-center"},[e("img",{staticClass:"w-100",attrs:{src:t.cropImg,alt:""}}),t._v(" "),e("b-button-group",{staticClass:"mt-2"},[e("label",{staticClass:"btn btn-primary m-0",attrs:{for:"logo"}},[e("i",{staticClass:"fa fa-camera"})]),t._v(" "),e("button",{staticClass:"btn btn-primary",on:{click:t.recropImage}},[e("i",{staticClass:"fa fa-crop"})])])],1):t._e(),t._v(" "),e("has-error",{staticClass:"text-center",attrs:{form:t.form,field:"logo"}})],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("city")},attrs:{type:"text"},domProps:{value:t.form.city},on:{input:function(o){o.target.composing||t.$set(t.form,"city",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"city"}})],1)]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Postcode")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postcode,expression:"form.postcode"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("postcode")},attrs:{type:"text"},domProps:{value:t.form.postcode},on:{input:function(o){o.target.composing||t.$set(t.form,"postcode",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"postcode"}})],1)]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Address Line 1")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address_1,expression:"form.address_1"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("address_1")},attrs:{type:"text"},domProps:{value:t.form.address_1},on:{input:function(o){o.target.composing||t.$set(t.form,"address_1",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"address_1"}})],1)]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Address Line 2")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address_2,expression:"form.address_2"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("address_2")},attrs:{type:"text"},domProps:{value:t.form.address_2},on:{input:function(o){o.target.composing||t.$set(t.form,"address_2",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"address_2"}})],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label"},[t._v("Notes")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.notes,expression:"form.notes"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("notes")},domProps:{value:t.form.notes},on:{input:function(o){o.target.composing||t.$set(t.form,"notes",o.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"notes"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 text-right"},[e("v-button",{attrs:{loading:t.form.busy}},[t._v("Add Employer")])],1)])])],1)])])])])],1)}),[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"card-header"},[o("h5",[this._v("Add Employer Profile")]),o("span",[this._v("Add a new employer profile")])])}],!1,null,null,null);o.default=p.exports},80:function(t,o,e){var s={"./Pattern.png":124,"./close-icon.png":125,"./codecanyon.png":126,"./details_close.png":239,"./details_open.png":238,"./endless-logo.png":28,"./favicon.png":127,"./js-grid.png":128,"./location.png":129,"./logo-light.png":130,"./no-image.png":131,"./search-not-found.png":132,"./secondhandm.png":133,"./smiley.png":134,"./sort_asc.png":135,"./sort_asc_disabled.png":136,"./sort_both.png":137,"./sort_desc.png":138,"./sort_desc_disabled.png":139,"./vuelogo.png":140};function a(t){var o=r(t);return e(o)}function r(t){if(!e.o(s,t)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id=80}}]);