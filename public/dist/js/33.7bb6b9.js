(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{65:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t.n(s),o=t(3),i=t.n(o);t(2);function n(e,a,t,s,r,o,i){try{var n=e[o](i),l=n.value}catch(e){return void t(e)}n.done?a(l):Promise.resolve(l).then(s,r)}var l={name:"CreateRole",middleware:["auth","permission:add-role"],data:function(){return{form:new i.a({name:"",display_name:"",description:"",permissions:[]})}},methods:{generateSlug:function(){this.form.name=this.form.display_name.toLowerCase().split(" ").join("-")},addRole:function(){var e,a=this;return(e=r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("add role"),e.next=4,a.form.post("/api/roles/add");case 4:t=e.sent,s=t.data,a.$alert(s.message,s.status),a.$router.push("/roles"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var a=this,t=arguments;return new Promise((function(s,r){var o=e.apply(a,t);function i(e){n(o,s,r,i,l,"next",e)}function l(e){n(o,s,r,i,l,"throw",e)}i(void 0)}))})()}}},c=t(1),m=Object(c.a)(l,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("Breadcrumbs",{attrs:{title:"Add Role",main:"Roles"}}),e._v(" "),t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card"},[e._m(0),e._v(" "),t("div",{staticClass:"card-body"},[t("b-form",{staticClass:"needs-validation",on:{submit:function(a){return a.preventDefault(),e.addRole(a)}}},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"col"},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[e._v("Display Name:")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.display_name,expression:"form.display_name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("display_name")},attrs:{type:"text"},domProps:{value:e.form.display_name},on:{keyup:e.generateSlug,input:function(a){a.target.composing||e.$set(e.form,"display_name",a.target.value)}}}),e._v(" "),t("has-error",{attrs:{form:e.form,field:"display_name"}})],1)]),e._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[e._v("Name:")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("name")},attrs:{placeholder:"must be unique, lowercase and no spaced",type:"text"},domProps:{value:e.form.name},on:{input:function(a){a.target.composing||e.$set(e.form,"name",a.target.value)}}}),e._v(" "),t("has-error",{attrs:{form:e.form,field:"name"}})],1)]),e._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-sm-3"},[e._v("Description:")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("description")},attrs:{required:""},domProps:{value:e.form.description},on:{input:function(a){a.target.composing||e.$set(e.form,"description",a.target.value)}}}),e._v(" "),t("has-error",{attrs:{form:e.form,field:"description"}})],1)])]),e._v(" "),t("div",{staticClass:"col-12 text-right"},[t("v-button",{attrs:{loading:e.form.busy}},[e._v("Add Role")])],1)])])],1)])])])])],1)}),[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"card-header"},[a("h5",[this._v("Add Role")]),a("span",[this._v("Create a new role")])])}],!1,null,null,null);a.default=m.exports}}]);