(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{61:function(s,e,a){"use strict";a.r(e);var t=a(0),r=a.n(t),i=a(3),o=a.n(i);a(2);function n(s,e,a,t,r,i,o){try{var n=s[i](o),l=n.value}catch(s){return void a(s)}n.done?e(l):Promise.resolve(l).then(t,r)}var l={name:"CreatePermission",middleware:["auth","permission:add-permission"],data:function(){return{form:new o.a({name:"",display_name:"",description:"",roles:[]})}},methods:{generateSlug:function(){this.form.name=this.form.display_name.toLowerCase().split(" ").join("-")},addPermission:function(){var s,e=this;return(s=r.a.mark((function s(){var a,t;return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.form.post("/api/permissions/add");case 3:a=s.sent,t=a.data,e.$alert(t.message,t.status),e.$router.push("/permissions"),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[0,9]])})),function(){var e=this,a=arguments;return new Promise((function(t,r){var i=s.apply(e,a);function o(s){n(i,t,r,o,l,"next",s)}function l(s){n(i,t,r,o,l,"throw",s)}o(void 0)}))})()}}},m=a(1),c=Object(m.a)(l,(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",[a("Breadcrumbs",{attrs:{title:"Add Permission",main:"Permissions"}}),s._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[s._m(0),s._v(" "),a("div",{staticClass:"card-body"},[a("b-form",{staticClass:"needs-validation",on:{submit:function(e){return e.preventDefault(),s.addPermission(e)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label"},[s._v("Display Name")]),s._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:s.form.display_name,expression:"form.display_name"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("display_name")},attrs:{type:"text"},domProps:{value:s.form.display_name},on:{keyup:s.generateSlug,input:function(e){e.target.composing||s.$set(s.form,"display_name",e.target.value)}}}),s._v(" "),a("has-error",{attrs:{form:s.form,field:"display_name"}})],1)]),s._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label"},[s._v("Name")]),s._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:s.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("name")},attrs:{placeholder:"must be unique, lowercase and no spaced",type:"text"},domProps:{value:s.form.name},on:{input:function(e){e.target.composing||s.$set(s.form,"name",e.target.value)}}}),s._v(" "),a("has-error",{attrs:{form:s.form,field:"name"}})],1)]),s._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label"},[s._v("Description")]),s._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.form.description,expression:"form.description"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("description")},domProps:{value:s.form.description},on:{input:function(e){e.target.composing||s.$set(s.form,"description",e.target.value)}}}),s._v(" "),a("has-error",{attrs:{form:s.form,field:"description"}})],1)]),s._v(" "),a("div",{staticClass:"col-12 text-right"},[a("v-button",{attrs:{loading:s.form.busy}},[s._v("Add Permission")])],1)])])],1)])])])])],1)}),[function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"card-header"},[e("h5",[this._v("Add Permission")]),e("span",[this._v("Create a new permission")])])}],!1,null,null,null);e.default=c.exports}}]);