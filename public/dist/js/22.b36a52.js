(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{49:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r.n(s),o=r(3),l=r.n(o),i=(r(2),r(4)),n=r(13);function m(e,t,r,s,a,o,l){try{var i=e[o](l),n=i.value}catch(e){return void r(e)}i.done?t(n):Promise.resolve(n).then(s,a)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={name:"CreateCandidate",middleware:["auth","permission:add-candidate"],data:function(){return{form:new l.a({title:"",first_name:"",last_name:"",date_of_birth:"",email:"",contact:"",address_1:"",address_2:"",city:"",postcode:"",current_salary:"",desired_salary:"",notes:"",department_id:"",industries:[],documents:[{name:"CV",file:null,expires_on:null},{name:"Safe CV",file:null,expires_on:null},{name:"DBS Update Service",file:null,expires_on:null},{name:"UK Passport/Work Permit",file:null,expires_on:null},{name:"Passport Photo",file:null,expires_on:null},{name:"Proof of Address 1",file:null,expires_on:null},{name:"Proof of Address 2",file:null,expires_on:null},{name:"Reference 1",file:null,expires_on:null},{name:"Reference 2",file:null,expires_on:null},{name:"National Insurance",file:null,expires_on:null},{name:"DBS Certificate",file:null,expires_on:null},{name:"Training Certificate 1",file:null,expires_on:null},{name:"Training Certificate 2",file:null,expires_on:null},{name:"Training Certificate 3",file:null,expires_on:null},{name:"Healthcare NMC",file:null,expires_on:null}]}),titles:["Mr","Mrs","Miss","Ms","Dr"]}},components:{Multiselect:r.n(n).a},created:function(){this.$store.dispatch("candidates/fetchAllIndustries")},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.c)({industries:function(e){return e.candidates.all_industries}})),methods:{add:function(){var e,t=this;return(e=a.a.mark((function e(){var r,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectToFormData,e.prev=1,e.next=4,t.form.submit("post","/api/candidates",{transformRequest:[function(e,t){return r(e)}]});case 4:s=e.sent,o=s.data,t.$alert(o.message,o.status),t.$router.push("/candidates"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t.$error("some error occurred");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var t=this,r=arguments;return new Promise((function(s,a){var o=e.apply(t,r);function l(e){m(o,s,a,l,i,"next",e)}function i(e){m(o,s,a,l,i,"throw",e)}l(void 0)}))})()}}},u=(r(15),r(1)),v=Object(u.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Breadcrumbs",{attrs:{title:"Add Candidate",main:"Candidates"}}),e._v(" "),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card"},[e._m(0),e._v(" "),r("div",{staticClass:"card-body"},[r("b-form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),e.add(t)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Title:")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("title")},attrs:{placeholder:"Select Title"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"title",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Select Title")]),e._v(" "),e._l(e.titles,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])}))],2),e._v(" "),r("has-error",{attrs:{form:e.form,field:"title"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("First Name:")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_name,expression:"form.first_name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("first_name")},attrs:{type:"text"},domProps:{value:e.form.first_name},on:{input:function(t){t.target.composing||e.$set(e.form,"first_name",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"first_name"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Last Name:")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.last_name,expression:"form.last_name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("last_name")},attrs:{type:"text"},domProps:{value:e.form.last_name},on:{input:function(t){t.target.composing||e.$set(e.form,"last_name",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"last_name"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Email")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("email")},attrs:{type:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"email"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Date of birth")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_birth,expression:"form.date_of_birth"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("date_of_birth")},attrs:{type:"date"},domProps:{value:e.form.date_of_birth},on:{input:function(t){t.target.composing||e.$set(e.form,"date_of_birth",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"date_of_birth"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Contact")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form.contact,expression:"form.contact",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("contact")},attrs:{type:"number"},domProps:{value:e.form.contact},on:{input:function(t){t.target.composing||e.$set(e.form,"contact",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"contact"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Address Line 1")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address_1,expression:"form.address_1"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("address_1")},attrs:{type:"text"},domProps:{value:e.form.address_1},on:{input:function(t){t.target.composing||e.$set(e.form,"address_1",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"address_1"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Address Line 2")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address_2,expression:"form.address_2"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("address_2")},attrs:{type:"text"},domProps:{value:e.form.address_2},on:{input:function(t){t.target.composing||e.$set(e.form,"address_2",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"address_2"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("City")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.city,expression:"form.city"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("city")},attrs:{type:"text"},domProps:{value:e.form.city},on:{input:function(t){t.target.composing||e.$set(e.form,"city",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"city"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Postcode")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.postcode,expression:"form.postcode"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("postcode")},attrs:{type:"text"},domProps:{value:e.form.postcode},on:{input:function(t){t.target.composing||e.$set(e.form,"postcode",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"postcode"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Current Salary")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.current_salary,expression:"form.current_salary"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("current_salary")},attrs:{type:"text"},domProps:{value:e.form.current_salary},on:{input:function(t){t.target.composing||e.$set(e.form,"current_salary",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"current_salary"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Desired Salary")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.desired_salary,expression:"form.desired_salary"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("desired_salary")},attrs:{type:"text"},domProps:{value:e.form.desired_salary},on:{input:function(t){t.target.composing||e.$set(e.form,"desired_salary",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"desired_salary"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Department:")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.department_id,expression:"form.department_id"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("department_id")},attrs:{placeholder:"Select Department"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"department_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Select Department")]),e._v(" "),r("option",{attrs:{value:"1"}},[e._v("Healthcare")]),e._v(" "),r("option",{attrs:{value:"2"}},[e._v("Education")])]),e._v(" "),r("has-error",{attrs:{form:e.form,field:"department_id"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Industries")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("multiselect",{class:{"is-invalid":e.form.errors.has("industries")},attrs:{placeholder:"Search industries",label:"name","track-by":"id",options:e.industries,multiple:!0},model:{value:e.form.industries,callback:function(t){e.$set(e.form,"industries",t)},expression:"form.industries"}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"industries"}})],1)]),e._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v("Notes")]),e._v(" "),r("div",{staticClass:"col-sm-9"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.notes,expression:"form.notes"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("notes")},domProps:{value:e.form.notes},on:{input:function(t){t.target.composing||e.$set(e.form,"notes",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"notes"}})],1)]),e._v(" "),e._l(e.form.documents,(function(t,s){return r("div",{key:s,staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[e._v(e._s(t.name))]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("b-form-file",{class:{"is-invalid":e.form.errors.has("documents")},attrs:{state:Boolean(e.form.documents),placeholder:"Choose file","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(r){e.$set(t,"file",r)},expression:"document.file"}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"documents"}})],1),e._v(" "),r("div",{staticClass:"col-sm-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.expires_on,expression:"document.expires_on"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("documents")},attrs:{type:"date"},domProps:{value:t.expires_on},on:{input:function(r){r.target.composing||e.$set(t,"expires_on",r.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"documents"}})],1)])}))],2),e._v(" "),r("div",{staticClass:"col-12 text-right"},[r("v-button",{attrs:{loading:e.form.busy}},[e._v("Add Candidate")])],1)])])],1)])])])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",[this._v("Add Candidate")]),t("span",[this._v("Add a new candidate")])])}],!1,null,null,null);t.default=v.exports}}]);