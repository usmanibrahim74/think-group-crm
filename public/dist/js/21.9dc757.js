(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{49:function(t,e,r){"use strict";r.r(e);var s=r(0),a=r.n(s),o=r(3),l=r.n(o),i=(r(2),r(4)),n=r(13);function m(t,e,r,s,a,o,l){try{var i=t[o](l),n=i.value}catch(t){return void r(t)}i.done?e(n):Promise.resolve(n).then(s,a)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={name:"CreateCandidate",middleware:["auth","permission:add-candidate"],data:function(){return{form:new l.a({title:"",first_name:"",last_name:"",date_of_birth:"",email:"",contact:"",address_1:"",address_2:"",city:"",postcode:"",current_salary:"",desired_salary:"",notes:"",department_id:"",industries:[],documents:[{name:"CV",file:null},{name:"Safe CV",file:null},{name:"UK Passport/Work Permit",file:null},{name:"Passport Photo",file:null},{name:"Proof of Address 1",file:null},{name:"Proof of Address 2",file:null},{name:"Reference 1",file:null},{name:"Reference 2",file:null},{name:"National Insurance",file:null},{name:"DBS Certificate",file:null},{name:"Training Certificate 1",file:null},{name:"Training Certificate 2",file:null},{name:"Training Certificate 3",file:null},{name:"Healthcare NMC",file:null}]}),titles:["Mr","Mrs","Miss","Ms","Dr"]}},components:{Multiselect:r.n(n).a},created:function(){this.$store.dispatch("candidates/fetchAllIndustries")},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(i.c)({industries:function(t){return t.candidates.all_industries}})),methods:{add:function(){var t,e=this;return(t=a.a.mark((function t(){var r,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.objectToFormData,t.prev=1,t.next=4,e.form.submit("post","/api/candidates",{transformRequest:[function(t,e){return r(t)}]});case 4:s=t.sent,o=s.data,e.$alert(o.message,o.status),e.$router.push("/candidates"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),e.$error("some error occurred");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})),function(){var e=this,r=arguments;return new Promise((function(s,a){var o=t.apply(e,r);function l(t){m(o,s,a,l,i,"next",t)}function i(t){m(o,s,a,l,i,"throw",t)}l(void 0)}))})()}}},v=(r(15),r(1)),u=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Breadcrumbs",{attrs:{title:"Add Candidate",main:"Candidates"}}),t._v(" "),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card"},[t._m(0),t._v(" "),r("div",{staticClass:"card-body"},[r("b-form",{staticClass:"needs-validation",on:{submit:function(e){return e.preventDefault(),t.add(e)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Title:")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("title")},attrs:{placeholder:"Select Title"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"title",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[t._v("Select Title")]),t._v(" "),t._l(t.titles,(function(e,s){return r("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])}))],2),t._v(" "),r("has-error",{attrs:{form:t.form,field:"title"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("First Name:")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("first_name")},attrs:{type:"text"},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"first_name"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Last Name:")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("last_name")},attrs:{type:"text"},domProps:{value:t.form.last_name},on:{input:function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"last_name"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Email")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"email"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Date of birth")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.date_of_birth,expression:"form.date_of_birth"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("date_of_birth")},attrs:{type:"date"},domProps:{value:t.form.date_of_birth},on:{input:function(e){e.target.composing||t.$set(t.form,"date_of_birth",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"date_of_birth"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Contact")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.contact,expression:"form.contact",modifiers:{number:!0}}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("contact")},attrs:{type:"number"},domProps:{value:t.form.contact},on:{input:function(e){e.target.composing||t.$set(t.form,"contact",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"contact"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Address Line 1")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address_1,expression:"form.address_1"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("address_1")},attrs:{type:"text"},domProps:{value:t.form.address_1},on:{input:function(e){e.target.composing||t.$set(t.form,"address_1",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"address_1"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Address Line 2")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address_2,expression:"form.address_2"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("address_2")},attrs:{type:"text"},domProps:{value:t.form.address_2},on:{input:function(e){e.target.composing||t.$set(t.form,"address_2",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"address_2"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("City")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("city")},attrs:{type:"text"},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"city"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Postcode")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postcode,expression:"form.postcode"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("postcode")},attrs:{type:"text"},domProps:{value:t.form.postcode},on:{input:function(e){e.target.composing||t.$set(t.form,"postcode",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"postcode"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Current Salary")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.current_salary,expression:"form.current_salary"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("current_salary")},attrs:{type:"text"},domProps:{value:t.form.current_salary},on:{input:function(e){e.target.composing||t.$set(t.form,"current_salary",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"current_salary"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Desired Salary")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.desired_salary,expression:"form.desired_salary"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("desired_salary")},attrs:{type:"text"},domProps:{value:t.form.desired_salary},on:{input:function(e){e.target.composing||t.$set(t.form,"desired_salary",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"desired_salary"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Department:")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.department_id,expression:"form.department_id"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("department_id")},attrs:{placeholder:"Select Department"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"department_id",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[t._v("Select Department")]),t._v(" "),r("option",{attrs:{value:"1"}},[t._v("Healthcare")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("Education")])]),t._v(" "),r("has-error",{attrs:{form:t.form,field:"department_id"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Industries")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("multiselect",{class:{"is-invalid":t.form.errors.has("industries")},attrs:{placeholder:"Search industries",label:"name","track-by":"id",options:t.industries,multiple:!0},model:{value:t.form.industries,callback:function(e){t.$set(t.form,"industries",e)},expression:"form.industries"}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"industries"}})],1)]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v("Notes")]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.notes,expression:"form.notes"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("notes")},domProps:{value:t.form.notes},on:{input:function(e){e.target.composing||t.$set(t.form,"notes",e.target.value)}}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"notes"}})],1)]),t._v(" "),t._l(t.form.documents,(function(e,s){return r("div",{key:s,staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-sm-3"},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"col-sm-9"},[r("b-form-file",{class:{"is-invalid":t.form.errors.has("documents")},attrs:{state:Boolean(t.form.documents),placeholder:"Choose file","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(r){t.$set(e,"file",r)},expression:"document.file"}}),t._v(" "),r("has-error",{attrs:{form:t.form,field:"documents"}})],1)])}))],2),t._v(" "),r("div",{staticClass:"col-12 text-right"},[r("v-button",{attrs:{loading:t.form.busy}},[t._v("Add Candidate")])],1)])])],1)])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",[this._v("Add Candidate")]),e("span",[this._v("Add a new candidate")])])}],!1,null,null,null);e.default=u.exports}}]);